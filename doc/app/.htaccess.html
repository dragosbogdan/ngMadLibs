<!DOCTYPE html>
<html>
<head>
  <title>.htaccess</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../doc-style.css" />
  <script src="../doc-filelist.js"></script>
  <script>
    var relativeDir = "../", thisFile = "app/.htaccess", defaultSidebar = true;
  </script>
  <script src="../doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
      <div class="heading h6">
        <a href="#%23">#</a>
      </div>
      <div class="heading h1">
        <a href="#cross-origin%20resource%20sharing%20(cors)">CROSS-ORIGIN RESOURCE SHARING (CORS)</a>
      </div>
      <div class="heading h6">
        <a href="#%23">#</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20cross-domain%20ajax%20requests%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Cross-domain AJAX requests                                                 |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20cors-enabled%20images%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| CORS-enabled images                                                        |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20web%20fonts%20access%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Web fonts access                                                           |</a>
      </div>
      <div class="heading h6">
        <a href="#%23">#</a>
      </div>
      <div class="heading h1">
        <a href="#errors">ERRORS</a>
      </div>
      <div class="heading h6">
        <a href="#%23">#</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20404%20error%20prevention%20for%20non-existing%20redirected%20folders%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| 404 error prevention for non-existing redirected folders                   |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20custom%20error%20messages%20%2F%20pages%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Custom error messages / pages                                              |</a>
      </div>
      <div class="heading h6">
        <a href="#%23">#</a>
      </div>
      <div class="heading h1">
        <a href="#internet%20explorer">INTERNET EXPLORER</a>
      </div>
      <div class="heading h6">
        <a href="#%23">#</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20better%20website%20experience%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Better website experience                                                  |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20cookie%20setting%20from%20iframes%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Cookie setting from iframes                                                |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20screen%20flicker%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Screen flicker                                                             |</a>
      </div>
      <div class="heading h6">
        <a href="#%23">#</a>
      </div>
      <div class="heading h1">
        <a href="#mime%20types%20and%20encoding">MIME TYPES AND ENCODING</a>
      </div>
      <div class="heading h6">
        <a href="#%23">#</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20proper%20mime%20types%20for%20all%20files%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Proper MIME types for all files                                            |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20utf-8%20encoding%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| UTF-8 encoding                                                             |</a>
      </div>
      <div class="heading h6">
        <a href="#%23">#</a>
      </div>
      <div class="heading h1">
        <a href="#url%20rewrites">URL REWRITES</a>
      </div>
      <div class="heading h6">
        <a href="#%23">#</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20rewrite%20engine%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Rewrite engine                                                             |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20suppressing%20%2F%20forcing%20the%20%22www.%22%20at%20the%20beginning%20of%20urls%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Suppressing / Forcing the "www." at the beginning of URLs                  |</a>
      </div>
      <div class="heading h6">
        <a href="#%23">#</a>
      </div>
      <div class="heading h1">
        <a href="#security">SECURITY</a>
      </div>
      <div class="heading h6">
        <a href="#%23">#</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20content%20security%20policy%20(csp)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Content Security Policy (CSP)                                              |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20file%20access%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| File access                                                                |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20secure%20sockets%20layer%20(ssl)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Secure Sockets Layer (SSL)                                                 |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20server%20software%20information%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Server software information                                                |</a>
      </div>
      <div class="heading h6">
        <a href="#%23">#</a>
      </div>
      <div class="heading h1">
        <a href="#web%20performance">WEB PERFORMANCE</a>
      </div>
      <div class="heading h6">
        <a href="#%23">#</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20compression%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Compression                                                                |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20content%20transformations%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Content transformations                                                    |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20etag%20removal%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| ETag removal                                                               |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20expires%20headers%20(for%20better%20cache%20control)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Expires headers (for better cache control)                                 |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20filename-based%20cache%20busting%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Filename-based cache busting                                               |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20file%20concatenation%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| File concatenation                                                         |</a>
      </div>
      <div class="heading h2">
        <a href="#%7C%20persistent%20connections%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">| Persistent connections                                                     |</a>
      </div>
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
          <h1>.htaccess</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>
<p>Apache Configuration File</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2">&#182;</a>
</div>
<p>(!) Using <code>.htaccess</code> files slows down Apache, therefore, if you have access
to the main server config file (usually called <code>httpd.conf</code>), you should add
this logic there: <a href='http://httpd.apache.org/docs/current/howto/htaccess.html'>http://httpd.apache.org/docs/current/howto/htaccess.html</a>.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="%23">
  <h6>
    <a href="#%23" name="%23" class="pilcrow">&#182;</a>
    #
  </h6>
</div>



<div class="pilwrap" id="cross-origin%20resource%20sharing%20(cors)">
  <h1>
    <a href="#cross-origin%20resource%20sharing%20(cors)" name="cross-origin%20resource%20sharing%20(cors)" class="pilcrow">&#182;</a>
    CROSS-ORIGIN RESOURCE SHARING (CORS)
  </h1>
</div>



<div class="pilwrap" id="%23_1">
  <h6>
    <a href="#%23_1" name="%23_1" class="pilcrow">&#182;</a>
    #
  </h6>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20cross-domain%20ajax%20requests%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20cross-domain%20ajax%20requests%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20cross-domain%20ajax%20requests%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Cross-domain AJAX requests                                                 |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5">&#182;</a>
</div>
<p>Enable cross-origin AJAX requests.
<a href='http://code.google.com/p/html5security/wiki/CrossOriginRequestSecurity'>http://code.google.com/p/html5security/wiki/CrossOriginRequestSecurity</a>
<a href='http://enable-cors.org/'>http://enable-cors.org/</a></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6">&#182;</a>
</div>
<p><IfModule mod_headers.c>
   Header set Access-Control-Allow-Origin "*"
</IfModule></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20cors-enabled%20images%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20cors-enabled%20images%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20cors-enabled%20images%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | CORS-enabled images                                                        |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8">&#182;</a>
</div>
<p>Send the CORS header for images when browsers request it.
<a href='https://developer.mozilla.org/en/CORS_Enabled_Image'>https://developer.mozilla.org/en/CORS_Enabled_Image</a>
<a href='http://blog.chromium.org/2011/07/using-cross-domain-images-in-webgl-and.html'>http://blog.chromium.org/2011/07/using-cross-domain-images-in-webgl-and.html</a>
<a href='http://hacks.mozilla.org/2011/11/using-cors-to-load-webgl-textures-from-cross-domain-images/'>http://hacks.mozilla.org/2011/11/using-cors-to-load-webgl-textures-from-cross-domain-images/</a></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nt">&lt;IfModule</span> <span class="s">mod_setenvif.c</span><span class="nt">&gt;</span>
    <span class="nt">&lt;IfModule</span> <span class="s">mod_headers.c</span><span class="nt">&gt;</span>
        <span class="nt">&lt;FilesMatch</span> <span class="s">&quot;\.(gif|ico|jpe?g|png|svg|svgz|webp)$&quot;</span><span class="nt">&gt;</span>
            <span class="nb">SetEnvIf</span> Origin <span class="s2">&quot;:&quot;</span> IS_CORS
            <span class="nb">Header</span> set Access-Control-Allow-Origin <span class="s2">&quot;*&quot;</span> env=IS_CORS
        <span class="nt">&lt;/FilesMatch&gt;</span>
    <span class="nt">&lt;/IfModule&gt;</span>
<span class="nt">&lt;/IfModule&gt;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20web%20fonts%20access%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20web%20fonts%20access%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20web%20fonts%20access%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Web fonts access                                                           |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10">&#182;</a>
</div>
<p>Allow access from all domains for web fonts</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nt">&lt;IfModule</span> <span class="s">mod_headers.c</span><span class="nt">&gt;</span>
    <span class="nt">&lt;FilesMatch</span> <span class="s">&quot;\.(eot|font.css|otf|ttc|ttf|woff)$&quot;</span><span class="nt">&gt;</span>
        <span class="nb">Header</span> set Access-Control-Allow-Origin <span class="s2">&quot;*&quot;</span>
    <span class="nt">&lt;/FilesMatch&gt;</span>
<span class="nt">&lt;/IfModule&gt;</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="%23">
  <h6>
    <a href="#%23" name="%23" class="pilcrow">&#182;</a>
    #
  </h6>
</div>



<div class="pilwrap" id="errors">
  <h1>
    <a href="#errors" name="errors" class="pilcrow">&#182;</a>
    ERRORS
  </h1>
</div>



<div class="pilwrap" id="%23_1">
  <h6>
    <a href="#%23_1" name="%23_1" class="pilcrow">&#182;</a>
    #
  </h6>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20404%20error%20prevention%20for%20non-existing%20redirected%20folders%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20404%20error%20prevention%20for%20non-existing%20redirected%20folders%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20404%20error%20prevention%20for%20non-existing%20redirected%20folders%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | 404 error prevention for non-existing redirected folders                   |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13">&#182;</a>
</div>
<p>Prevent Apache from returning a 404 error for a rewrite if a directory
with the same name does not exist.
<a href='http://httpd.apache.org/docs/current/content-negotiation.html#multiviews'>http://httpd.apache.org/docs/current/content-negotiation.html#multiviews</a>
<a href='http://www.webmasterworld.com/apache/3808792.htm'>http://www.webmasterworld.com/apache/3808792.htm</a></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nb">Options</span> -MultiViews


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20custom%20error%20messages%20%2F%20pages%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20custom%20error%20messages%20%2F%20pages%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20custom%20error%20messages%20%2F%20pages%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Custom error messages / pages                                              |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15">&#182;</a>
</div>
<p>You can customize what Apache returns to the client in case of an error (see
<a href='http://httpd.apache.org/docs/current/mod/core.html#errordocument'>http://httpd.apache.org/docs/current/mod/core.html#errordocument</a>), e.g.:</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nb">ErrorDocument</span> <span class="m">404</span> <span class="sx">/404.html</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="%23">
  <h6>
    <a href="#%23" name="%23" class="pilcrow">&#182;</a>
    #
  </h6>
</div>



<div class="pilwrap" id="internet%20explorer">
  <h1>
    <a href="#internet%20explorer" name="internet%20explorer" class="pilcrow">&#182;</a>
    INTERNET EXPLORER
  </h1>
</div>



<div class="pilwrap" id="%23_1">
  <h6>
    <a href="#%23_1" name="%23_1" class="pilcrow">&#182;</a>
    #
  </h6>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20better%20website%20experience%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20better%20website%20experience%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20better%20website%20experience%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Better website experience                                                  |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18">&#182;</a>
</div>
<p>Force IE to render pages in the highest available mode in the various
cases when it may not: <a href='http://hsivonen.iki.fi/doctype/ie-mode.pdf'>http://hsivonen.iki.fi/doctype/ie-mode.pdf</a>.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nt">&lt;IfModule</span> <span class="s">mod_headers.c</span><span class="nt">&gt;</span>
    <span class="nb">Header</span> set X-UA-Compatible <span class="s2">&quot;IE=edge&quot;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19">&#182;</a>
</div>
<p><code>mod_headers</code> can't match based on the content-type, however, we only
want to send this header for HTML pages and not for the other resources</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nt">&lt;FilesMatch</span> <span class="s">&quot;\.(appcache|crx|css|eot|gif|htc|ico|jpe?g|js|m4a|m4v|manifest|mp4|oex|oga|ogg|ogv|otf|pdf|png|safariextz|svg|svgz|ttf|vcf|webapp|webm|webp|woff|xml|xpi)$&quot;</span><span class="nt">&gt;</span>
        <span class="nb">Header</span> unset X-UA-Compatible
    <span class="nt">&lt;/FilesMatch&gt;</span>
<span class="nt">&lt;/IfModule&gt;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20cookie%20setting%20from%20iframes%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20cookie%20setting%20from%20iframes%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20cookie%20setting%20from%20iframes%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Cookie setting from iframes                                                |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21">&#182;</a>
</div>
<p>Allow cookies to be set from iframes in IE.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22">&#182;</a>
</div>
<p><IfModule mod_headers.c>
  Header set P3P "policyref=\"/w3c/p3p.xml\", CP=\"IDC DSP COR ADM DEVi TAIi PSA PSD IVAi IVDi CONi HIS OUR IND CNT\""
</IfModule></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20screen%20flicker%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20screen%20flicker%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20screen%20flicker%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Screen flicker                                                             |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24">&#182;</a>
</div>
<p>Stop screen flicker in IE on CSS rollovers (this only works in
combination with the <code>ExpiresByType</code> directives for images from below).</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25">&#182;</a>
</div>
<p>BrowserMatch "MSIE" brokenvary=1
BrowserMatch "Mozilla/4.[0-9]{2}" brokenvary=1
BrowserMatch "Opera" !brokenvary
SetEnvIf brokenvary 1 force-no-vary</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="%23">
  <h6>
    <a href="#%23" name="%23" class="pilcrow">&#182;</a>
    #
  </h6>
</div>



<div class="pilwrap" id="mime%20types%20and%20encoding">
  <h1>
    <a href="#mime%20types%20and%20encoding" name="mime%20types%20and%20encoding" class="pilcrow">&#182;</a>
    MIME TYPES AND ENCODING
  </h1>
</div>



<div class="pilwrap" id="%23_1">
  <h6>
    <a href="#%23_1" name="%23_1" class="pilcrow">&#182;</a>
    #
  </h6>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20proper%20mime%20types%20for%20all%20files%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20proper%20mime%20types%20for%20all%20files%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20proper%20mime%20types%20for%20all%20files%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Proper MIME types for all files                                            |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nt">&lt;IfModule</span> <span class="s">mod_mime.c</span><span class="nt">&gt;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28">&#182;</a>
</div>
<p>Audio</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">AddType</span> audio/mp4                                   m4a f4a f4b
    <span class="nb">AddType</span> audio/ogg                                   oga ogg


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29">&#182;</a>
</div>
<p>JavaScript
Normalize to standard type (it's sniffed in IE anyways):
<a href='http://tools.ietf.org/html/rfc4329#section-7.2'>http://tools.ietf.org/html/rfc4329#section-7.2</a></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">AddType</span> application/javascript                      js jsonp
    <span class="nb">AddType</span> application/json                            json


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30">&#182;</a>
</div>
<p>Video</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">AddType</span> video/mp4                                   mp4 m4v f4v f4p
    <span class="nb">AddType</span> video/ogg                                   ogv
    <span class="nb">AddType</span> video/webm                                  webm
    <span class="nb">AddType</span> video/x-flv                                 flv


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31">&#182;</a>
</div>
<p>Web fonts</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">AddType</span> application/font-woff                       woff
    <span class="nb">AddType</span> application/vnd.ms-fontobject               eot


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32">&#182;</a>
</div>
<p>Browsers usually ignore the font MIME types and sniff the content,
however, Chrome shows a warning if other MIME types are used for the
following fonts.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">AddType</span> application/x-font-ttf                      ttc ttf
    <span class="nb">AddType</span> font/opentype                               otf


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33">&#182;</a>
</div>
<p>Make SVGZ fonts work on iPad:
<a href='https://twitter.com/FontSquirrel/status/14855840545'>https://twitter.com/FontSquirrel/status/14855840545</a></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">AddType</span>     image/svg+xml                           svg svgz
    <span class="nb">AddEncoding</span> gzip                                    svgz


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34">&#182;</a>
</div>
<p>Other</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">AddType</span> application/octet-stream                    safariextz
    <span class="nb">AddType</span> application/x-chrome-extension              crx
    <span class="nb">AddType</span> application/x-opera-extension               oex
    <span class="nb">AddType</span> application/x-shockwave-flash               swf
    <span class="nb">AddType</span> application/x-web-app-manifest+json         webapp
    <span class="nb">AddType</span> application/x-xpinstall                     xpi
    <span class="nb">AddType</span> application/xml                             atom rdf rss xml
    <span class="nb">AddType</span> image/webp                                  webp
    <span class="nb">AddType</span> image/x-icon                                ico
    <span class="nb">AddType</span> text/cache-manifest                         appcache manifest
    <span class="nb">AddType</span> text/vtt                                    vtt
    <span class="nb">AddType</span> text/x-component                            htc
    <span class="nb">AddType</span> text/x-vcard                                vcf

<span class="nt">&lt;/IfModule&gt;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20utf-8%20encoding%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20utf-8%20encoding%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20utf-8%20encoding%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | UTF-8 encoding                                                             |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36">&#182;</a>
</div>
<p>Use UTF-8 encoding for anything served as <code>text/html</code> or <code>text/plain</code>.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nb">AddDefaultCharset</span> utf-8


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37">&#182;</a>
</div>
<p>Force UTF-8 for certain file formats.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nt">&lt;IfModule</span> <span class="s">mod_mime.c</span><span class="nt">&gt;</span>
    <span class="nb">AddCharset</span> utf-8 .atom .css .js .json .rss .vtt .webapp .xml
<span class="nt">&lt;/IfModule&gt;</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="%23">
  <h6>
    <a href="#%23" name="%23" class="pilcrow">&#182;</a>
    #
  </h6>
</div>



<div class="pilwrap" id="url%20rewrites">
  <h1>
    <a href="#url%20rewrites" name="url%20rewrites" class="pilcrow">&#182;</a>
    URL REWRITES
  </h1>
</div>



<div class="pilwrap" id="%23_1">
  <h6>
    <a href="#%23_1" name="%23_1" class="pilcrow">&#182;</a>
    #
  </h6>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20rewrite%20engine%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20rewrite%20engine%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20rewrite%20engine%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Rewrite engine                                                             |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40">&#182;</a>
</div>
<p>Turning on the rewrite engine and enabling the <code>FollowSymLinks</code> option is
necessary for the following directives to work.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41">&#182;</a>
</div>
<p>If your web host doesn't allow the <code>FollowSymlinks</code> option, you may need to
comment it out and use <code>Options +SymLinksIfOwnerMatch</code> but, be aware of the
performance impact: <a href='http://httpd.apache.org/docs/current/misc/perf-tuning.html#symlinks'>http://httpd.apache.org/docs/current/misc/perf-tuning.html#symlinks</a></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42">&#182;</a>
</div>
<p>Also, some cloud hosting services require <code>RewriteBase</code> to be set:
<a href='http://www.rackspace.com/knowledge_center/frequently-asked-question/why-is-mod-rewrite-not-working-on-my-site'>http://www.rackspace.com/knowledge_center/frequently-asked-question/why-is-mod-rewrite-not-working-on-my-site</a></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nt">&lt;IfModule</span> <span class="s">mod_rewrite.c</span><span class="nt">&gt;</span>
    <span class="nb">Options</span> +FollowSymlinks

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43">&#182;</a>
</div>
<p>Options +SymLinksIfOwnerMatch</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">RewriteEngine</span> <span class="k">On</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44">&#182;</a>
</div>
<p>RewriteBase /</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nt">&lt;/IfModule&gt;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20suppressing%20%2F%20forcing%20the%20%22www.%22%20at%20the%20beginning%20of%20urls%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20suppressing%20%2F%20forcing%20the%20%22www.%22%20at%20the%20beginning%20of%20urls%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20suppressing%20%2F%20forcing%20the%20%22www.%22%20at%20the%20beginning%20of%20urls%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Suppressing / Forcing the "www." at the beginning of URLs                  |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46">&#182;</a>
</div>
<p>The same content should never be available under two different URLs especially
not with and without "www." at the beginning. This can cause SEO problems
(duplicate content), therefore, you should choose one of the alternatives and
redirect the other one.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47">&#182;</a>
</div>
<p>By default option 1 (no "www.") is activated:
<a href='http://no-www.org/faq.php?q=class_b'>http://no-www.org/faq.php?q=class_b</a></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48">&#182;</a>
</div>
<p>If you'd prefer to use option 2, just comment out all the lines from option 1
and uncomment the ones from option 2.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49">&#182;</a>
</div>
<p>IMPORTANT: NEVER USE BOTH RULES AT THE SAME TIME!</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50">&#182;</a>
</div>
<hr />
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51">&#182;</a>
</div>
<p>Option 1: rewrite www.example.com → example.com</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nt">&lt;IfModule</span> <span class="s">mod_rewrite.c</span><span class="nt">&gt;</span>
    <span class="nb">RewriteCond</span> %{HTTPS} !=on
    <span class="nb">RewriteCond</span> %{HTTP_HOST} ^www\.(.+)$ [NC]
    <span class="nb">RewriteRule</span> ^ http://%1%{REQUEST_URI} [R=301,L]
<span class="nt">&lt;/IfModule&gt;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52">&#182;</a>
</div>
<hr />
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-53" id="section-53">&#182;</a>
</div>
<p>Option 2: rewrite example.com → www.example.com</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-54" id="section-54">&#182;</a>
</div>
<p>Be aware that the following might not be a good idea if you use "real"
subdomains for certain parts of your website.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-55" id="section-55">&#182;</a>
</div>
<p><IfModule mod_rewrite.c>
   RewriteCond %{HTTPS} !=on
   RewriteCond %{HTTP_HOST} !^www..+$ [NC]
   RewriteRule ^ <a href='http://www.%{HTTP_HOST}%{REQUEST_URI}'>http://www.%{HTTP_HOST}%{REQUEST_URI}</a> [R=301,L]
</IfModule></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="%23">
  <h6>
    <a href="#%23" name="%23" class="pilcrow">&#182;</a>
    #
  </h6>
</div>



<div class="pilwrap" id="security">
  <h1>
    <a href="#security" name="security" class="pilcrow">&#182;</a>
    SECURITY
  </h1>
</div>



<div class="pilwrap" id="%23_1">
  <h6>
    <a href="#%23_1" name="%23_1" class="pilcrow">&#182;</a>
    #
  </h6>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20content%20security%20policy%20(csp)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20content%20security%20policy%20(csp)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20content%20security%20policy%20(csp)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Content Security Policy (CSP)                                              |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-58" id="section-58">&#182;</a>
</div>
<p>You can mitigate the risk of cross-site scripting and other content-injection
attacks by setting a Content Security Policy which whitelists trusted sources
of content for your site.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-59" id="section-59">&#182;</a>
</div>
<p>The example header below allows ONLY scripts that are loaded from the current
site's origin (no inline scripts, no CDN, etc). This almost certainly won't
work as-is for your site!</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-60" id="section-60">&#182;</a>
</div>
<p>To get all the details you'll need to craft a reasonable policy for your site,
read: <a href='http://html5rocks.com/en/tutorials/security/content-security-policy'>http://html5rocks.com/en/tutorials/security/content-security-policy</a> (or
see the specification: <a href='http://w3.org/TR/CSP'>http://w3.org/TR/CSP</a>).</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-61" id="section-61">&#182;</a>
</div>
<p><IfModule mod_headers.c>
   Header set Content-Security-Policy "script-src 'self'; object-src 'self'"
   <FilesMatch "\.(appcache|crx|css|eot|gif|htc|ico|jpe?g|js|m4a|m4v|manifest|mp4|oex|oga|ogg|ogv|otf|pdf|png|safariextz|svg|svgz|ttf|vcf|webapp|webm|webp|woff|xml|xpi)$">
       Header unset Content-Security-Policy
   </FilesMatch>
</IfModule></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20file%20access%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20file%20access%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20file%20access%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | File access                                                                |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-63" id="section-63">&#182;</a>
</div>
<p>Block access to directories without a default document.
Usually you should leave this uncommented because you shouldn't allow anyone
to surf through every directory on your server (which may includes rather
private places like the CMS's directories).</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nt">&lt;IfModule</span> <span class="s">mod_autoindex.c</span><span class="nt">&gt;</span>
    <span class="nb">Options</span> -Indexes
<span class="nt">&lt;/IfModule&gt;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-64" id="section-64">&#182;</a>
</div>
<hr />
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-65" id="section-65">&#182;</a>
</div>
<p>Block access to hidden files and directories.
This includes directories used by version control systems such as Git and SVN.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nt">&lt;IfModule</span> <span class="s">mod_rewrite.c</span><span class="nt">&gt;</span>
    <span class="nb">RewriteCond</span> %{SCRIPT_FILENAME} -d [OR]
    <span class="nb">RewriteCond</span> %{SCRIPT_FILENAME} -f
    <span class="nb">RewriteRule</span> <span class="s2">&quot;(^|/)\.&quot;</span> - [F]
<span class="nt">&lt;/IfModule&gt;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-66" id="section-66">&#182;</a>
</div>
<hr />
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-67" id="section-67">&#182;</a>
</div>
<p>Block access to backup and source files.
These files may be left by some text editors and can pose a great security
danger when anyone has access to them.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nt">&lt;FilesMatch</span> <span class="s">&quot;(^#.*#|\.(bak|config|dist|fla|inc|ini|log|psd|sh|sql|sw[op])|~)$&quot;</span><span class="nt">&gt;</span>
    <span class="nb">Order</span> allow,deny
    <span class="nb">Deny</span> from <span class="k">all</span>
    <span class="nb">Satisfy</span> <span class="k">All</span>
<span class="nt">&lt;/FilesMatch&gt;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20secure%20sockets%20layer%20(ssl)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20secure%20sockets%20layer%20(ssl)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20secure%20sockets%20layer%20(ssl)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Secure Sockets Layer (SSL)                                                 |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-69" id="section-69">&#182;</a>
</div>
<p>Rewrite secure requests properly to prevent SSL certificate warnings, e.g.:
prevent <code>https://www.example.com</code> when your certificate only allows
<code>https://secure.example.com</code>.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-70" id="section-70">&#182;</a>
</div>
<p><IfModule mod_rewrite.c>
   RewriteCond %{SERVER_PORT} !^443
   RewriteRule ^ <a href='https://example-domain-please-change-me.com%{REQUEST_URI}'>https://example-domain-please-change-me.com%{REQUEST_URI}</a> [R=301,L]
</IfModule></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-71" id="section-71">&#182;</a>
</div>
<hr />
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-72" id="section-72">&#182;</a>
</div>
<p>Force client-side SSL redirection.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-73" id="section-73">&#182;</a>
</div>
<p>If a user types "example.com" in his browser, the above rule will redirect him
to the secure version of the site. That still leaves a window of opportunity
(the initial HTTP connection) for an attacker to downgrade or redirect the
request. The following header ensures that browser will ONLY connect to your
server via HTTPS, regardless of what the users type in the address bar.
<a href='http://www.html5rocks.com/en/tutorials/security/transport-layer-security/'>http://www.html5rocks.com/en/tutorials/security/transport-layer-security/</a></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-74" id="section-74">&#182;</a>
</div>
<p><IfModule mod_headers.c>
   Header set Strict-Transport-Security max-age=16070400;
</IfModule></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20server%20software%20information%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20server%20software%20information%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20server%20software%20information%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Server software information                                                |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-76" id="section-76">&#182;</a>
</div>
<p>Avoid displaying the exact Apache version number, the description of the
generic OS-type and the information about Apache's compiled-in modules.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-77" id="section-77">&#182;</a>
</div>
<p>ADD THIS DIRECTIVE IN THE <code>httpd.conf</code> AS IT WILL NOT WORK IN THE <code>.htaccess</code>!</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-78" id="section-78">&#182;</a>
</div>
<p>ServerTokens Prod</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="%23">
  <h6>
    <a href="#%23" name="%23" class="pilcrow">&#182;</a>
    #
  </h6>
</div>



<div class="pilwrap" id="web%20performance">
  <h1>
    <a href="#web%20performance" name="web%20performance" class="pilcrow">&#182;</a>
    WEB PERFORMANCE
  </h1>
</div>



<div class="pilwrap" id="%23_1">
  <h6>
    <a href="#%23_1" name="%23_1" class="pilcrow">&#182;</a>
    #
  </h6>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20compression%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20compression%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20compression%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Compression                                                                |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nt">&lt;IfModule</span> <span class="s">mod_deflate.c</span><span class="nt">&gt;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-81" id="section-81">&#182;</a>
</div>
<p>Force compression for mangled headers.
<a href='http://developer.yahoo.com/blogs/ydn/posts/2010/12/pushing-beyond-gzipping'>http://developer.yahoo.com/blogs/ydn/posts/2010/12/pushing-beyond-gzipping</a></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nt">&lt;IfModule</span> <span class="s">mod_setenvif.c</span><span class="nt">&gt;</span>
        <span class="nt">&lt;IfModule</span> <span class="s">mod_headers.c</span><span class="nt">&gt;</span>
            <span class="nb">SetEnvIfNoCase</span> ^(Accept-EncodXng|X-cept-Encoding|X{15}|~{15}|-{15})$ ^((gzip|deflate)\s*,?\s*)+|[X~-]{4,13}$ HAVE_Accept-Encoding
            <span class="nb">RequestHeader</span> append Accept-Encoding <span class="s2">&quot;gzip,deflate&quot;</span> env=HAVE_Accept-Encoding
        <span class="nt">&lt;/IfModule&gt;</span>
    <span class="nt">&lt;/IfModule&gt;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-82" id="section-82">&#182;</a>
</div>
<p>Compress all output labeled with one of the following MIME-types
(for Apache versions below 2.3.7, you don't need to enable <code>mod_filter</code>
 and can remove the <code>&lt;IfModule mod_filter.c&gt;</code> and <code>&lt;/IfModule&gt;</code> lines
 as <code>AddOutputFilterByType</code> is still in the core directives).</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nt">&lt;IfModule</span> <span class="s">mod_filter.c</span><span class="nt">&gt;</span>
        <span class="nb">AddOutputFilterByType</span> DEFLATE application/atom+xml \
                                      <span class="err">application/</span><span class="nb">javascript</span> \
                                      <span class="err">application/</span><span class="nb">json</span> \
                                      <span class="err">application/rss+</span><span class="nb">xml</span> \
                                      <span class="err">application/vnd</span>.<span class="err">ms-</span><span class="nb">fontobject</span> \
                                      <span class="err">application/x-font-</span><span class="nb">ttf</span> \
                                      <span class="err">application/x-web-app-manifest+</span><span class="nb">json</span> \
                                      <span class="err">application/xhtml+</span><span class="nb">xml</span> \
                                      <span class="err">application/</span><span class="nb">xml</span> \
                                      <span class="err">font/</span><span class="nb">opentype</span> \
                                      <span class="err">image/svg+</span><span class="nb">xml</span> \
                                      <span class="err">image/x-</span><span class="nb">icon</span> \
                                      <span class="err">text/</span><span class="nb">css</span> \
                                      <span class="err">text/</span><span class="nb">html</span> \
                                      <span class="err">text/</span><span class="nb">plain</span> \
                                      <span class="err">text/x-</span><span class="nb">component</span> \
                                      <span class="err">text/</span><span class="nb">xml</span>
    &lt;/IfModule&gt;

<span class="nt">&lt;/IfModule&gt;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20content%20transformations%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20content%20transformations%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20content%20transformations%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Content transformations                                                    |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-84" id="section-84">&#182;</a>
</div>
<p>Prevent some of the mobile network providers from modifying the content of
your site: <a href='http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9.5'>http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9.5</a>.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-85" id="section-85">&#182;</a>
</div>
<p><IfModule mod_headers.c>
   Header set Cache-Control "no-transform"
</IfModule></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20etag%20removal%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20etag%20removal%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20etag%20removal%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | ETag removal                                                               |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-87" id="section-87">&#182;</a>
</div>
<p>Since we're sending far-future expires headers (see below), ETags can
be removed: <a href='http://developer.yahoo.com/performance/rules.html#etags'>http://developer.yahoo.com/performance/rules.html#etags</a>.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-88" id="section-88">&#182;</a>
</div>
<p><code>FileETag None</code> is not enough for every server.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nt">&lt;IfModule</span> <span class="s">mod_headers.c</span><span class="nt">&gt;</span>
    <span class="nb">Header</span> unset ETag
<span class="nt">&lt;/IfModule&gt;</span>

<span class="nb">FileETag</span> <span class="k">None</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20expires%20headers%20(for%20better%20cache%20control)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20expires%20headers%20(for%20better%20cache%20control)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20expires%20headers%20(for%20better%20cache%20control)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Expires headers (for better cache control)                                 |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-90" id="section-90">&#182;</a>
</div>
<p>The following expires headers are set pretty far in the future. If you don't
control versioning with filename-based cache busting, consider lowering the
cache time for resources like CSS and JS to something like 1 week.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nt">&lt;IfModule</span> <span class="s">mod_expires.c</span><span class="nt">&gt;</span>

    <span class="nb">ExpiresActive</span> <span class="k">on</span>
    <span class="nb">ExpiresDefault</span>                                      <span class="s2">&quot;access plus 1 month&quot;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-91" id="section-91">&#182;</a>
</div>
<p>CSS</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">ExpiresByType</span> text/css                              <span class="s2">&quot;access plus 1 year&quot;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-92" id="section-92">&#182;</a>
</div>
<p>Data interchange</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">ExpiresByType</span> application/json                      <span class="s2">&quot;access plus 0 seconds&quot;</span>
    <span class="nb">ExpiresByType</span> application/xml                       <span class="s2">&quot;access plus 0 seconds&quot;</span>
    <span class="nb">ExpiresByType</span> text/xml                              <span class="s2">&quot;access plus 0 seconds&quot;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-93" id="section-93">&#182;</a>
</div>
<p>Favicon (cannot be renamed!)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">ExpiresByType</span> image/x-icon                          <span class="s2">&quot;access plus 1 week&quot;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-94" id="section-94">&#182;</a>
</div>
<p>HTML components (HTCs)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">ExpiresByType</span> text/x-component                      <span class="s2">&quot;access plus 1 month&quot;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-95" id="section-95">&#182;</a>
</div>
<p>HTML</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">ExpiresByType</span> text/html                             <span class="s2">&quot;access plus 0 seconds&quot;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-96" id="section-96">&#182;</a>
</div>
<p>JavaScript</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">ExpiresByType</span> application/javascript                <span class="s2">&quot;access plus 1 year&quot;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-97" id="section-97">&#182;</a>
</div>
<p>Manifest files</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">ExpiresByType</span> application/x-web-app-manifest+json   <span class="s2">&quot;access plus 0 seconds&quot;</span>
    <span class="nb">ExpiresByType</span> text/cache-manifest                   <span class="s2">&quot;access plus 0 seconds&quot;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-98" id="section-98">&#182;</a>
</div>
<p>Media</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">ExpiresByType</span> audio/ogg                             <span class="s2">&quot;access plus 1 month&quot;</span>
    <span class="nb">ExpiresByType</span> image/gif                             <span class="s2">&quot;access plus 1 month&quot;</span>
    <span class="nb">ExpiresByType</span> image/jpeg                            <span class="s2">&quot;access plus 1 month&quot;</span>
    <span class="nb">ExpiresByType</span> image/png                             <span class="s2">&quot;access plus 1 month&quot;</span>
    <span class="nb">ExpiresByType</span> video/mp4                             <span class="s2">&quot;access plus 1 month&quot;</span>
    <span class="nb">ExpiresByType</span> video/ogg                             <span class="s2">&quot;access plus 1 month&quot;</span>
    <span class="nb">ExpiresByType</span> video/webm                            <span class="s2">&quot;access plus 1 month&quot;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-99" id="section-99">&#182;</a>
</div>
<p>Web feeds</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">ExpiresByType</span> application/atom+xml                  <span class="s2">&quot;access plus 1 hour&quot;</span>
    <span class="nb">ExpiresByType</span> application/rss+xml                   <span class="s2">&quot;access plus 1 hour&quot;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-100" id="section-100">&#182;</a>
</div>
<p>Web fonts</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nb">ExpiresByType</span> application/font-woff                 <span class="s2">&quot;access plus 1 month&quot;</span>
    <span class="nb">ExpiresByType</span> application/vnd.ms-fontobject         <span class="s2">&quot;access plus 1 month&quot;</span>
    <span class="nb">ExpiresByType</span> application/x-font-ttf                <span class="s2">&quot;access plus 1 month&quot;</span>
    <span class="nb">ExpiresByType</span> font/opentype                         <span class="s2">&quot;access plus 1 month&quot;</span>
    <span class="nb">ExpiresByType</span> image/svg+xml                         <span class="s2">&quot;access plus 1 month&quot;</span>

<span class="nt">&lt;/IfModule&gt;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20filename-based%20cache%20busting%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20filename-based%20cache%20busting%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20filename-based%20cache%20busting%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Filename-based cache busting                                               |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-102" id="section-102">&#182;</a>
</div>
<p>If you're not using a build process to manage your filename version revving,
you might want to consider enabling the following directives to route all
requests such as <code>/css/style.12345.css</code> to <code>/css/style.css</code>.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-103" id="section-103">&#182;</a>
</div>
<p>To understand why this is important and a better idea than <code>*.css?v231</code>, read:
<a href='http://stevesouders.com/blog/2008/08/23/revving-filenames-dont-use-querystring'>http://stevesouders.com/blog/2008/08/23/revving-filenames-dont-use-querystring</a></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-104" id="section-104">&#182;</a>
</div>
<p><IfModule mod_rewrite.c>
   RewriteCond %{REQUEST_FILENAME} !-f
   RewriteCond %{REQUEST_FILENAME} !-d
   RewriteRule ^(.+).(\d+).(js|css|png|jpg|gif)$ $1.$3 [L]
</IfModule></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20file%20concatenation%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20file%20concatenation%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20file%20concatenation%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | File concatenation                                                         |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-106" id="section-106">&#182;</a>
</div>
Allow concatenation from within specific CSS and JS files, e.g.:
Inside of `script.combined.js` you could have
  <!--#include file="libs/jquery.js" -->

  <!--#include file="plugins/jquery.idletimer.js" -->

<p>and they would be included into this single file.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-107" id="section-107">&#182;</a>
</div>
<p><IfModule mod_include.c>
   <FilesMatch "\.combined\.js$">
       Options +Includes
       AddOutputFilterByType INCLUDES application/javascript application/json
       SetOutputFilter INCLUDES
   </FilesMatch>
   <FilesMatch "\.combined\.css$">
       Options +Includes
       AddOutputFilterByType INCLUDES text/css
       SetOutputFilter INCLUDES
   </FilesMatch>
</IfModule></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><hr />


<div class="pilwrap" id="%7C%20persistent%20connections%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C">
  <h2>
    <a href="#%7C%20persistent%20connections%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" name="%7C%20persistent%20connections%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C" class="pilcrow">&#182;</a>
    | Persistent connections                                                     |
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-109" id="section-109">&#182;</a>
</div>
<p>Allow multiple requests to be sent over the same TCP connection:
<a href='http://httpd.apache.org/docs/current/en/mod/core.html#keepalive'>http://httpd.apache.org/docs/current/en/mod/core.html#keepalive</a>.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-110" id="section-110">&#182;</a>
</div>
<p>Enable if you serve a lot of static content but, be aware of the
possible disadvantages!</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-111" id="section-111">&#182;</a>
</div>
<p><IfModule mod_headers.c>
   Header set Connection Keep-Alive
</IfModule></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
